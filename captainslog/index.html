<!DOCTYPE html>

<html>

<head>
    <meta charset="utf-8" />
    <title>Captain's Log</title>
    <link rel="stylesheet" href="style.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script>
        $(document).ready(function(){
            if (localStorage.getItem('log') != null) {
                $('#log').html(localStorage.getItem('log'));
            }
            $('#msg').keypress(function(e){
                var key = e.which;
                if (key == 13 && $('input:text').val() != "") {
                    // get input text
                    var text = $('input:text').val();
                    // get the current time
                    var now = new Date(Date.now());
                    var date = now.getDate();
                    var year = now.getFullYear();
                    var hour = now.getHours();
                    var min = now.getMinutes();
                    var month = now.getMonth();
                    var sec = now.getSeconds();
                    var day = now.getDay();
                    if (day == 0) {
                        day = "Sun";
                    } else if (day == 1) {
                        day = "Mon"
                    } else if (day == 2) {
                        day = "Tue"
                    } else if (day == 3) {
                        day = "Wed"
                    } else if (day == 4) {
                        day = "Thu"
                    } else if (day == 5) {
                        day = "Fri"
                    } else if (day == 6) {
                        day = "Sat"
                    } 

                    var time = "<p>"
                    time += day;
                    time += " ";
                    time += year;
                    time += "-";
                    time += month;
                    time += "-";
                    time += date;
                    time += " ";
                    time += hour;
                    time += ":";
                    time += min;
                    time += ":";
                    time += sec;
                    time += " - ";
                    text += "</p>";
                    text = time + text;

                    var log = text;
                    if (localStorage.getItem('log') != null) {
                        log = localStorage.getItem('log');
                        log = text + log;
                    }
                    localStorage.setItem('log', log);

                    $('#log').html(localStorage.getItem('log'));
                    $('input:text').val("");
                }
            });
        });
    </script>
</head>

<body>
    <h1>Captain's Log</h1>
    <h3>New entry: <input type="text" id="msg" name="msg" size="30" /></h3>
    <div id="log"></div>
</body>
</html>